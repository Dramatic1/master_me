/*
 */

#pragma once

#define DISTRHO_PLUGIN_WANT_PROGRAMS   1
#define DISTRHO_PLUGIN_WANT_STATE      1
#define DISTRHO_PLUGIN_WANT_FULL_STATE 1
#define DISTRHO_PLUGIN_HAS_UI          1
#define DISTRHO_UI_FILE_BROWSER        0
#define DISTRHO_UI_USE_NANOVG          1
#define DISTRHO_UI_USER_RESIZABLE      0

#define DISTRHO_UI_DEFAULT_WIDTH 1030
#define DISTRHO_UI_DEFAULT_HEIGHT 597

static constexpr const struct EasyPreset {
    const char* const name;
    float values[61];
} kEasyPresets[] = {
    {
        "YOUTUBE -14LUFS",
        {0,-14.0707969666,0,0,0,0,1,0,1,-90,0.982031285763,50,500,0,20.0463275909,0.0358128212392,0,600,1,0,50.4114837646,-20.0030231476,30.0247039795,30.0406150818,1,15.7516555786,-5.97815847397,5.00165510178,49.9614524841,8.97562217712,60,50,0,50.8553619385,0,20.1386947632,-5.99849796295,10.012336731,79.9935760498,12,70.5796813965,60,40.6058197021,-8.02368450165,0,50.0002937317,12,30,8000,1.01593780518,0,80,3.00375056267,1.01718783379,40,2.97500610352,50,0,0,-1,75},
    },
    {
        "APPLE PODCASTS -16 LUFS",
        {0,-16.0583839417,0,0,0,0,1,0,1,-90,0.982031285763,50,500,0,20.0463275909,0.0358128212392,0,600,1,0,50.4114837646,-20.0030231476,30.0247039795,30.0406150818,1,15.7516555786,-5.97815847397,5.00165510178,49.9614524841,8.97562217712,60,50,0,50.8553619385,0,20.1386947632,-5.99849796295,10.012336731,79.9935760498,12,70.5796813965,60,40.6058197021,-8.02368450165,0,50.0002937317,12,30,8000,1.01593780518,0,80,3.00375056267,1.01718783379,40,2.97500610352,50,0,0,-1,75,},
    },
    {
        "EBU R128 -23 LUFS",
        {0,-23.9793319702,0,0,0,0,1,0,1,-90,0.982031285763,50,500,0,20.0463275909,0.0358128212392,0,600,1,0,40.4269485474,-20.0030231476,30.0247039795,30.0406150818,1,15.7516555786,-5.97815847397,5.00165510178,49.9614524841,8.97562217712,60,50,0,50.8553619385,0,20.1386947632,-5.99849796295,10.012336731,79.9935760498,12,70.5796813965,60,40.6058197021,-8.02368450165,0,50.0002937317,12,30,8000,1.01593780518,0,80,3.00375056267,1.01718783379,40,2.97500610352,50,0,0,-1,75,},
    },
    {
        "SPEECH GENERAL -16 LUFS",
        {0,-16.2320365906,0,0,0,0,1,0,1,-90,0.982031285763,50,500,0,20.0463275909,0.0358128212392,0,600,1,0,40.4269485474,-20.0030231476,30.0247039795,30.0406150818,0,15.7516555786,-5.97815847397,5.00165510178,49.9614524841,8.97562217712,60,50,0,50.8553619385,0,20.1386947632,-5.00438022614,10.012336731,79.9935760498,12,70.5796813965,60,40.6058197021,-6.96862411499,0,50.0002937317,12,30,8000,1.01593780518,0,80,3.00375056267,1.01718783379,40,2.97500610352,50.8256835938,0,0,-1,75,},
    },
    {
        "MUSIC GENERAL -16 LUFS",
        {0,-16.0467948914,0,0,0,0,0,0,1,-90,0,50,430.530334473,0,5,0.0358128212392,0.958782374859,600,1,0,20.4575080872,-10.0470380783,10.0178747177,10.0129928589,0,20,-3.95123386383,19.9961719513,339.953308105,6,60,50.6209564209,0,50.8553619385,0,10,-3.0194978714,15,150,12,70.5796813965,60,30.2618713379,-12,7.97187042236,30.0273475647,12.0075139999,30,8000,1.01593780518,0,80,5.99455833435,3.00781130791,40,2.97500610352,50,0,0,-1,75,},
    },
};

enum ExtraParameters {
    kExtraParameterHistogramBufferSize,
    kExtraParameterCount
};

enum ExtraPrograms {
    kExtraProgramCount = sizeof(kEasyPresets)/sizeof(kEasyPresets[0]),
};

enum ExtraStates {
    kExtraStateMode = 0,
    kExtraStateCount
};

#include "utils/FloatFifo.hpp"

typedef FloatFifo<128> MasterMeFloatFifo;
typedef FloatFifoControl<128> MasterMeFifoControl;

struct MasterMeHistogramFifos {
    MasterMeFloatFifo lufsIn;
    MasterMeFloatFifo lufsOut;
    bool closed;
};

static constexpr const uint kMinimumHistogramBufferSize = 4096;
